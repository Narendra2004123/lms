<app-fronthead></app-fronthead>
<div class="nav"></div>

<!-- Loader Overlay -->
<div *ngIf="loading" class="full-screen-loader">
  <div class="loading">
    <div class="dot"></div>
    <div class="dot"></div>
    <div class="dot"></div>
    <div class="dot"></div>
    <div class="dot"></div>
  </div>
</div>

<!-- Main Content (Blurred when loading) -->
<div class="home-container" [class.blur]="loading">
  <div class="left-section"></div>

  <div class="right-section">
    <div class="login-container">
      <h2 style="color: white;">Login</h2>
      <form (ngSubmit)="login()">
        <div class="form-group">
          <label for="username" style="color: white;">Username</label>
          <input type="text" id="username" class="form-control" placeholder="Enter your username"
            [(ngModel)]="username" name="username" required />
        </div>

        <div class="form-group">
          <label for="password" style="color: white;">Password</label>
          <input type="password" id="password" class="form-control" placeholder="Enter your password"
            [(ngModel)]="password" name="password" required />
        </div>

        <!-- CAPTCHA Section -->
        <div class="form-group">
          <label style="color: white;">Enter Captcha</label>
          <div class="captcha-box">
            <input type="text" class="form-control" [(ngModel)]="captchaInput" name="captcha"
              placeholder="Enter text here" required />
            <img [src]="captchaImage" alt="CAPTCHA" class="captcha-img" />
            <button type="button" class="refresh-btn" (click)="reloadCaptcha()">
              <i class="fas fa-sync-alt"></i>
            </button>
          </div>
          <span class="error" *ngIf="captchaError" style="color: red;">{{ captchaError }}</span>
        </div>

        <div class="forgot-password">
          <a routerLink="/forgot-pwd" style="color: cyan; cursor: pointer;">Forgot Password?</a>
        </div>

        <div class="form-actions">
          <button type="submit" class="btn login">Login</button>
        </div>
      </form>
      <div class="not-registered">
        <p style="color: white;">
          Not Registered? <a style="color: cyan; cursor: pointer;" (click)="navigateToRegister()">Register Here</a>
        </p>
      </div>
    </div>
  </div>
</div>

<app-footer></app-footer>
